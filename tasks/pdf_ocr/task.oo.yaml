inputs_def:
  - handle: pdf_path
    description: "%input-scanned-pdf-file%"
    json_schema:
      type: string
      ui:widget: file
  - handle: output_path
    description: "%output-searchable-pdf-file%"
    json_schema:
      type: string
      ui:widget: save
      ui:options:
        excludeAll: true
        filters:
          - name: PDF
            extensions:
              - pdf
  - handle: language
    description: "%ocr-language%"
    json_schema:
      type: string
      enum:
        - "eng"
        - "chi_sim"
        - "chi_tra"
        - "jpn"
        - "kor"
        - "fra"
        - "deu"
        - "spa"
        - "rus"
    value: eng
  - handle: dpi
    description: "%image-resolution-for-ocr%"
    json_schema:
      type: number
      minimum: 150
      maximum: 600
    value: 300
  - handle: preserve_images
    description: "%preserve-original-images-in-output%"
    json_schema:
      type: boolean
    value: true

outputs_def:
  - handle: output_path
    description: Searchable PDF file path
    json_schema:
      type: string
      ui:widget: file
  - handle: pages_processed
    description: Number of pages processed
    json_schema:
      type: number
  - handle: confidence_score
    description: Average OCR confidence score
    json_schema:
      type: number

executor:
  name: python
  options:
    spawn: false
    entry: __init__.py

title: "%pdf-ocr%"
icon: ":carbon:ibm-cloud-direct-link-1-dedicated-hosting:"
description: "%convert-scanned-pdfs-to-searchable-text-using-ocr%"

ui:
  default_width: 450
